# AgentPM Model Configuration for LM Studio
# These settings prevent xxxxx corruption and optimize performance

# Model Selection
REASONING_MODEL=qwen/qwen3-4b-2507
EMBED_MODEL=text-embedding-qwen3-embedding-0.6b
RERANK_MODEL=qwen.qwen3-reranker-0.6b
VISION_MODEL=qwen/qwen2.5-vl-7b

# LM Studio Endpoint
LM_STUDIO_ENDPOINT=http://127.0.0.1:1234/v1

# Qwen3-4B-2507 Load Settings (Configure in LM Studio Desktop)
# Go to My Models tab -> Click gear icon for qwen/qwen3-4b-2507
# Set these values:
# - GPU Layers: 50
# - Context Length: 32768
# - GPU Memory Utilization: 0.8 (8GB)
# - CPU Offload: Disabled
# - Use MMAP: Enabled

# Inference Settings (Applied via SAGE system)
SAGE_TEMPERATURE=0.0
SAGE_MAX_TOKENS=2000
SAGE_TOP_P=0.9
SAGE_TOP_K=40
SAGE_REPEAT_PENALTY=1.1
SAGE_FREQUENCY_PENALTY=0.0
SAGE_PRESENCE_PENALTY=0.0

# Quality Gates
SAGE_MAX_INPUT_TOKENS=30000
SAGE_MAX_OUTPUT_TOKENS=2000
SAGE_MIN_RESPONSE_QUALITY=0.8

# GPU Memory Allocation (Total: 16GB)
# - 4B Model: 8GB (50 layers)
# - Vision Model: 12GB (50 layers) 
# - Embedding: 4GB (35 layers)
# - Reranker: 4GB (35 layers)

# Performance Settings
SAGE_BATCH_SIZE=1
SAGE_PARALLEL_REQUESTS=2
SAGE_CACHE_ENABLED=true
SAGE_TIMEOUT_MS=30000
